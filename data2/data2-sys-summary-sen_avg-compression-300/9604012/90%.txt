 Listing 1 The linguist provides SemHe with three pieces of data: a lexicon, two-level rules and word formation grammar The resulting stems are assigned 1 (Rules 3-4 in Listing 8  However, some stems require verbal inflectional markers other imperfect forms  Rules 5-8 (Listing 8) handle this Using tree-adjoining grammars might be a possibility 50 rules  2nd masc  The three morphemes produce the underlying form katab which surfaces as /ktab/ since short vowels in open unstressed syllables are deleted The two-level grammar (Listing 1) assumes three lexical tapes There are two current methods for implementing two-level rules (both implemented in SemHe (1) compiling rules into finite-state automata (multi-tape transducers in our case and (2) interpreting rules directly Listing 2 Listing 3 Listing 4 Listing 5 Listing 6 The algorithms presented below are given in terms of prolog-like non-deterministic operations To analyse a surface form, one calls TWO-LEVEL-ANALYSIS Surf, -Lex, -Partition, -Parse  To generate a surface form, one calls TWO-LEVEL-ANALYSIS Surf, +Lex, -Partition, -Parse  Hence, lexical descriptions of stems make use of three lexical tapes (pattern, root vocalism while those of prefixes and suffixes use the first lexical tape This requires duplicating rules when stating lexical constraints Consider rule R4 (Listing 1  Rule R7 (Listing 7) is required One might suggest placing constraints on surface expressions instead However, doing so causes surface expressions to be dependent on other rules We assume full vocalisation in writing rules A second set of rules can allow the deletion of vowels A stem whose stem morpheme is known is assigned 2 (Rules 1-2 in Listing 8 