 Some obligatory spelling changes in French involve more than one letter appeler, call becomes appellera  For case (2 the spelling rules may be applied directly, just as in rule compilation, to a specified surface or lexical character sequence, as if no lexical or morphotactic constraints existed Surface: chre Lexical: cher  Developers may wish to add and test further lexical entries without frequently recompiling the rules, and it may also be necessary to deal with unknown words at run time, for example by querying a large external lexical database or attempting spelling correction (Alshawi, 1992, pp124-7  Rules may be optional (Op is or obligatory (Op is  Surface and Lexical are both strings of the form LContext|Target|RContext meaning that the surface and lexical targets may correspond if the left and right contexts and the Features specification are satisfied Members of the surface and lexical strings may be characters or classes of single characters Figure shows three of the French spelling rules developed for this system The default rule that copies characters between surface and lexical levels and the boundary rule that deletes boundary markers are both optional Affixes may appear explicitly in production rules or, like roots, they may be assigned complex feature-valued categories Then, each sequence, together with any associated restrictions on orthographic features, undergoes analysis by the compiled spelling rules (Section with the surface sequence and the root part of the lexical sequence initially uninstantiated This process results in a set of spelling patterns, one for each distinct application of the spelling rules to each affix sequence suggested by the production rules A spelling pattern consists of partially specified surface and lexical root character sequences, fully specified surface and lexical affix sequences, orthographic feature constraints associated with the spelling rules and affixes used, and a pair of syntactic category specifications derived from the production rules used One category is for the root form, and one for the inflected form Spelling patterns are indexed according to the surface (for analysis) and lexical (for generation) affix characters they involve Complications arise in spelling rule application from the fact that, at compile time, neither the lexical nor the surface form of the root, nor even its length, is known The v(L,R) structure is always matched specially with a Kleene-star of the default spelling rule The lexical string of that rule may then match R1 Rk, and its right context match Rk+1 Rn  In the absence of a lexical string for the root, the correct treatment of obligatory rules is another problem for compilation However, for other languages, including French, it leads to excessive numbers of spelling patterns, because there are many obligatory rules with non-trivial contexts and feature specifications