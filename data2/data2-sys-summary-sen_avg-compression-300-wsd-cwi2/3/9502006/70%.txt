 Analysis of French words using this rule set and only an in-core lexicon averages around 50 words per second, with a mean of 11 spelling analyses per word leading to a mean of 1 A rule set embodying a quite comprehensive treatment of French inflectional morphology was developed in about one person month The English spelling rule set was adapted from Ritchie et al (1992) in only a day or two Some obligatory spelling changes in French involve more than one letter Instead, the following pair of rules, in which the lexical targets have only one character each, achieve the desired effect: spell(change_au_ll1, |l| |a|u+e ) spell(change_au_ll2, |l| a|u e ) Here, change_au_ll1 rules out a:a partition in Figure , and change_au_ll2 rules out the u:u one appeler, call becomes appellera  For case (1 the user may ask to see all inflections of a root licensed by the spelling rules, production rules, and lexicon; for cher, the output is [cher,e adjp chre [cher,e,s adjp chres [cher,s adjp chers meaning that when cher is an adjp (adjective) it may combine with the suffixes listed to produce the inflected forms shown It is also possible to view the spelling patterns and production rule tree used to produce a form; for chre, the trace (slightly simplified here) is as in figure  The spelling pattern 194 referred to here is the one depicted in a different form in Figure  Production rule tree 17 is that for a single application of the rule adjp_adjp_fem, which describes the feminine form of the an adjective, where the root is taken to be the masculine form For case (2 the spelling rules may be applied directly, just as in rule compilation, to a specified surface or lexical character sequence, as if no lexical or morphotactic constraints existed Feature constraints, and cases where the rules will not apply if those constraints are broken, are shown Surface: chre Lexical: cher  Suffix: e c c default h h default e change_e_1 r r default + boundary Category: orth cdouble=n] e e default + boundary Surface: chere Lexical: cher  The rule formalism and compiler described here work well for European languages with reasonably complex orthographic changes but a limited range of possible affix combinations As in that work, a discrimination net of root forms would be required; however, this could be augmented independently of spelling pattern creation, so that the flexibility resulting from not composing the lexicon with the spelling rules would not be lost Further, it cannot be assumed that the lexicon has been fully specified when the morphology rules are compiled Developers may wish to add and test further lexical entries without frequently recompiling the rules, and it may also be necessary to deal with unknown words at run time, for example by querying a large external lexical database or attempting spelling correction (Alshawi, 1992, pp124-7  Also, both vocabulary and generation of word forms are required A rule is of the form spell(Name, SurfaceOpLexical, Classes, Features  Rules may be optional (Op is or obligatory (Op is  Surface and Lexical are both strings of the form LContext|Target|RContext meaning that the surface and lexical targets may correspond if the left and right contexts and the Features specification are satisfied The automata may be derived from the rules alone (Trost, 1990 or involve composition with the lexicon (Karttunen, Kaplan and Zaenen, 1992  The correspondence between surface and lexical strings for an entire word is licensed if there is a partitioning of both so that each partition (pair of corresponding surface and lexical targets) is licensed by a rule, and no partition breaks an obligatory rule A partition breaks an obligatory rule if the surface target does not match but everything else, including the feature specification, does Members of the surface and lexical strings may be characters or classes of single characters Figure shows three of the French spelling rules developed for this system The default rule that copies characters between surface and lexical levels and the boundary rule that deletes boundary markers are both optional However, although surface targets of any length can usefully be specified, it is in practice a good strategy always to make lexical targets exactly one character long, because, by definition, an obligatory rule cannot block the application of another rule if their lexical targets are of different lengths The allowed sequences of morphemes, and the syntactic and semantic properties of morphemes and of the words derived by combining them, are specified by morphosyntactic production rules (dimension (b and lexical entries both for affixes (dimension (b and for roots (dimension (c essentially as described by Alshawi (1992) (where the production rules are referred to as morphology rules  Affixes may appear explicitly in production rules or, like roots, they may be assigned complex feature-valued categories However, the spelling rules make no reference to PRESENT_3s; it is simply a device allowing categories and logical forms for irregular words to be built up using the same production rules as for regular words All rules and lexical entries in the CLE are compiled to a form that allows normal Prolog unification to be used for category matching at run time Then, each sequence, together with any associated restrictions on orthographic features, undergoes vocabulary by the compiled spelling rules (Section with the surface sequence and the root part of the lexical sequence initially uninstantiated Rules are applied recursively and nondeterministically, somewhat in the style of Abramson (1992 taking advantage of Prolog's unification mechanism to instantiate the part of the surface string corresponding to affixes and to place some spelling constraints on the start and/or end of the surface and/or lexical forms of the root This process results in a set of spelling patterns, one for each distinct application of the spelling rules to each affix sequence suggested by the production rules A spelling pattern consists of partially specified surface and lexical root character sequences, fully specified surface and lexical affix sequences, orthographic feature constraints associated with the spelling rules and affixes used, and a pair of syntactic category specifications derived from the production rules used One category is for the root form, and one for the inflected form Spelling patterns are indexed according to the surface (for vocabulary) and lexical (for generation) affix characters they involve stripping off possible (surface) affix characters in the word and locating a spelling pattern that they index; matching the remaining characters in the word against the surface part of the spelling pattern, thereby, through shared variables, instantiating the characters for the lexical part to provide a possible root spelling; checking any orthographic feature constraints on that root; finding a lexical entry for the root, by any of a range of mechanisms including lookup in the system's own lexicon, querying an external lexical database, or attempting to guess an entry for an undefined word; and unifying the root lexical entry with the root category in the spelling pattern, thereby, through variable sharing with the other category in the pattern, creating a fully specified category for the inflected form that can be used in parsing Complications arise in spelling rule application from the fact that, at compile time, neither the lexical nor the surface form of the root, nor even its length, is known The v(L,R) structure is always matched specially with a Kleene-star of the default spelling rule The lexical string of that rule may then match R1 Rk, and its right context match Rk+1 Rn  During rule compilation, the spelling pattern that leads to the run-time vocabulary of chre given above is derived from m=0and n=2 and the specified rule sequence, with the variables R1R2 matching as in Figure  In the absence of a lexical string for the root, the correct treatment of obligatory rules is another problem for compilation However, for other languages, including French, it leads to excessive numbers of spelling patterns, because there are many obligatory rules with non-trivial contexts and feature specifications.